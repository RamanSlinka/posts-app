(this["webpackJsonpposts-app"]=this["webpackJsonpposts-app"]||[]).push([[0],{19:function(e,t,n){e.exports={login__wrapper:"Login_login__wrapper__3bwvi",title:"Login_title__3hhUZ",condition:"Login_condition__1iPBH",btn:"Login_btn__1EE5I",aboutPage:"Login_aboutPage__3cIL4"}},20:function(e,t,n){e.exports={pagesPageWrapper:"Post_pagesPageWrapper__y5Ujt",createPostBtn:"Post_createPostBtn__1rlRE",postIdPageWrapper:"Post_postIdPageWrapper__2fDJz",postIdWrapper:"Post_postIdWrapper__20l8X",mailFromComments:"Post_mailFromComments__3gaJC"}},23:function(e,t,n){e.exports={navbar:"Navbar_navbar__1nzL5",navbar__btn:"Navbar_navbar__btn__b7OAW",link:"Navbar_link__2LFMs",navbar__links:"Navbar_navbar__links__2yb4f"}},26:function(e,t,n){},32:function(e,t,n){e.exports={myModal:"MyModal_myModal__3xvyl",myModalContent:"MyModal_myModalContent__11TZR",active:"MyModal_active__jG9Rq"}},46:function(e,t,n){e.exports={myBtn:"MyButton_myBtn__29lgm"}},49:function(e,t,n){e.exports={myInput:"MyInput_myInput__cwKHb"}},50:function(e,t,n){e.exports={select:"MySelect_select__16wib"}},51:function(e,t,n){e.exports={loader:"Loader_loader__3eSiN",rotate:"Loader_rotate__32sC-"}},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=n(5),o=(n(26),n(18)),l=n(3),u=n(55),j=n(46),d=n.n(j),b=n(1),p=["children"],h=function(e){var t=e.children,n=Object(u.a)(e,p);return Object(b.jsx)("button",Object(l.a)(Object(l.a)({},n),{},{className:d.a.myBtn,children:t}))},O=Object(a.createContext)(null),x=n(23),m=n.n(x),f=function(){var e=Object(a.useContext)(O),t=(e.isAuth,e.setIsAuth);return Object(b.jsxs)("div",{className:m.a.navbar,children:[Object(b.jsx)("div",{className:m.a.navbar__btn,children:Object(b.jsx)(h,{onClick:function(){t(!1),localStorage.removeItem("auth")},children:"Sign Up"})}),Object(b.jsxs)("div",{className:m.a.navbar__links,children:[Object(b.jsx)(o.b,{style:{textDecoration:"none"},to:"/about",children:Object(b.jsx)("span",{className:m.a.link,children:"ABOUT APP"})}),Object(b.jsx)(o.b,{style:{textDecoration:"none"},to:"/posts",children:Object(b.jsx)("span",{className:m.a.link,children:"POSTS"})})]})]})},v=n(4),g=n(19),_=n.n(g),y=function(){return Object(b.jsxs)("div",{className:_.a.aboutPage,children:[Object(b.jsx)("h1",{children:"This application is made using technologies such as:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Managed input."}),Object(b.jsx)("li",{children:"Hooks: useState, useEffect, useMemo, useContext, useHistory, useParams."}),Object(b.jsx)("li",{children:"Working with lists. Converting an array of objects to an array of React elements."}),Object(b.jsx)("li",{children:"Post creation form. Managed and unmanaged components."}),Object(b.jsx)("li",{children:"Creation of a UI library. CSS modules. Children props."}),Object(b.jsx)("li",{children:"Prevent the page from being refreshed on form submit."}),Object(b.jsx)("li",{children:"Conditional rendering."}),Object(b.jsx)("li",{children:"Sorting. Drop-down list. Search. Filtration."}),Object(b.jsx)("li",{children:"Modal window."}),Object(b.jsx)("li",{children:"Animations. React transition group."}),Object(b.jsx)("li",{children:"Decomposition. Custom hooks."}),Object(b.jsx)("li",{children:"Working with the server. Axios. Indication of loading data from the server."}),Object(b.jsx)("li",{children:"Loader component. Animations."}),Object(b.jsx)("li",{children:"Paged output. Pagination"}),Object(b.jsx)("li",{children:"React router. Page navigation. BrowserRouter, Route, Switch, Redirect."}),Object(b.jsx)("li",{children:"Dynamic navigation. useHistory, useParams."}),Object(b.jsx)("li",{children:"useContext. Global data."}),Object(b.jsx)("li",{children:" User authorization."}),Object(b.jsx)("li",{children:" Use Formik and validation authorization. "})]})]})},w=n(30),C=n(8),P=n.n(C),S=n(14),k=n(20),N=n.n(k),I=function(e,t,n){var r=function(e,t){return Object(a.useMemo)((function(){return t?Object(w.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(a.useMemo)((function(){return r.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[n,r])},M=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1];return[function(){var t=Object(S.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),r,l]},A=n(47),B=n(48),L=n(31),F=n.n(L),R=function(){function e(){Object(A.a)(this,e)}return Object(B.a)(e,null,[{key:"getAll",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,n,a=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:10,n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=4,F.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(S.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommentsByPostId",value:function(){var e=Object(S.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=function(e,t){return Math.ceil(e/t)},D=n(32),E=n.n(D),q=function(e){var t=e.children,n=e.visible,a=e.setVisible,r=[E.a.myModal];return n&&r.push(E.a.active),Object(b.jsx)("div",{className:r.join(" "),onClick:function(){return a(!1)},children:Object(b.jsx)("div",{className:E.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},U=n(49),T=n.n(U),H=r.a.forwardRef((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(l.a)({className:T.a.myInput},e))})})),V=function(e){var t=e.create,n=Object(a.useState)({title:"",body:""}),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(b.jsxs)("form",{children:[Object(b.jsx)(H,{value:c.title,onChange:function(e){return s(Object(l.a)(Object(l.a)({},c),{},{title:e.target.value}))},type:"text",placeholder:"post title"}),Object(b.jsx)(H,{value:c.body,onChange:function(e){return s(Object(l.a)(Object(l.a)({},c),{},{body:e.target.value}))},type:"text",placeholder:"post description"}),Object(b.jsx)("div",{className:"postFormBtn",children:Object(b.jsx)(h,{onClick:function(e){e.preventDefault();var n=Object(l.a)(Object(l.a)({},c),{},{id:Date.now()});t(n),s({title:"",body:""})},children:"Create post"})})]})},Z=n(50),z=n.n(Z),J=function(e){var t=e.options,n=e.defaultValue,a=e.value,r=e.onChange;return Object(b.jsxs)("select",{className:z.a.select,value:a,onChange:function(e){return r(e.target.value)},children:[Object(b.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},G=function(e){var t=e.filter,n=e.setFilter;return Object(b.jsxs)("div",{children:[Object(b.jsx)(H,{placeholder:"Search...",value:t.query,onChange:function(e){return n(Object(l.a)(Object(l.a)({},t),{},{query:e.target.value}))}}),Object(b.jsx)(J,{value:t.sort,onChange:function(e){return n(Object(l.a)(Object(l.a)({},t),{},{sort:e}))},defaultValue:"Sort by",options:[{value:"title",name:"By title"},{value:"body",name:"By description"}]}),Object(b.jsx)("span",{children:" Filter"})]})},$=function(e){var t=Object(v.g)();return Object(b.jsxs)("div",{className:"post",children:[Object(b.jsxs)("div",{className:"post__content",children:[Object(b.jsxs)("strong",{children:[e.post.id,". ",e.post.title]}),Object(b.jsx)("div",{children:e.post.body})]}),Object(b.jsxs)("div",{className:"post__btns",children:[Object(b.jsx)(h,{onClick:function(){return t.push("/posts/".concat(e.post.id))},children:"Open"}),Object(b.jsx)(h,{onClick:function(){return e.remove(e.post)},children:"Delete"})]})]})},K=n(91),X=n(90),Y=function(e){var t=e.posts,n=e.title,a=e.remove;return t.length?Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{textAlign:"center"},children:n}),Object(b.jsx)(K.a,{children:t.map((function(e,t){return Object(b.jsx)(X.a,{timeout:500,classNames:"post",children:Object(b.jsx)($,{remove:a,number:t+1,post:e},e.id)},e.id)}))})]}):Object(b.jsx)("h2",{style:{textAlign:"center"},children:" Posts not found"})},Q=n(51),ee=n.n(Q),te=function(){return Object(b.jsx)("div",{className:ee.a.loader})},ne=function(e){var t=e.totalPages,n=e.page,a=e.changePage,r=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(t);return Object(b.jsx)("div",{className:"page__wrapper",children:r.map((function(e){return Object(b.jsx)("span",{className:n===e?"page page__current":"page",onClick:function(){return a(e)},children:e},e)}))})};var ae=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({sort:"",query:""}),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),d=j[0],p=j[1],O=I(n,o.sort,o.query),x=Object(a.useState)(0),m=Object(i.a)(x,2),f=m[0],v=m[1],g=Object(a.useState)(10),_=Object(i.a)(g,2),y=_[0],C=(_[1],Object(a.useState)(1)),k=Object(i.a)(C,2),A=k[0],B=k[1],L=M(Object(S.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getAll(y,A);case 2:t=e.sent,r(t.data),n=t.headers["x-total-count"],v(W(n,y));case 6:case"end":return e.stop()}}),e)})))),F=Object(i.a)(L,3),D=F[0],E=F[1],U=F[2];return Object(a.useEffect)((function(){D()}),[A]),Object(b.jsx)("div",{className:N.a.pagesPageWrapper,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:N.a.createPostBtn,children:Object(b.jsx)(h,{onClick:function(){return p(!0)},children:"Create post"})}),Object(b.jsx)(q,{visible:d,setVisible:p,children:Object(b.jsx)(V,{create:function(e){r([].concat(Object(w.a)(n),[e])),p(!1)}})}),Object(b.jsx)("hr",{style:{margin:"15px 0"}}),Object(b.jsx)(G,{filter:o,setFilter:l}),Object(b.jsx)(ne,{changePage:function(e){B(e)},page:A,totalPages:f}),U&&Object(b.jsxs)("h2",{children:[" Error $",U]}),E?Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:Object(b.jsx)(te,{})}):Object(b.jsx)(Y,{remove:function(e){r(n.filter((function(t){return t.id!==e.id})))},posts:O,title:"List of posts"})]})})},re=function(){var e=Object(v.h)(),t=Object(a.useState)({}),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],j=M(function(){var t=Object(S.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.getById(e.id);case 2:a=t.sent,c(a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d=Object(i.a)(j,3),p=d[0],h=d[1],O=(d[2],M(function(){var t=Object(S.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.getCommentsByPostId(e.id);case 2:a=t.sent,u(a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),x=Object(i.a)(O,3),m=x[0],f=x[1];x[2];return Object(a.useEffect)((function(){p(e.id),m(e.id)}),[]),Object(b.jsx)("div",{className:N.a.postIdPageWrapper,children:Object(b.jsxs)("div",{className:N.a.postIdWrapper,children:[Object(b.jsxs)("h5",{children:["You open post with ID = ",e.id]}),h?Object(b.jsx)(te,{}):Object(b.jsxs)("div",{children:[r.id,".",r.title," "]}),Object(b.jsx)("h2",{children:"Comments:"}),f?Object(b.jsx)(te,{}):Object(b.jsx)("div",{children:l.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:N.a.mailFromComments,children:e.email}),Object(b.jsx)("div",{children:e.body})]},e.id)}))})]})})},ce=n(54),se=[{path:"/about",component:y,exact:!0},{path:"/posts",component:ae,exact:!0},{path:"/posts/:id",component:re,exact:!0}],ie=[{path:"/login",component:function(){var e=Object(a.useContext)(O),t=(e.isAuth,e.setIsAuth),n=Object(ce.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<6&&(t.password="Password must be 6 characters or more"):t.password="Required",t},onSubmit:function(e){t(!0),localStorage.setItem("auth","true"),n.resetForm()}});return Object(b.jsxs)("div",{className:_.a.login__wrapper,children:[Object(b.jsx)("h1",{className:_.a.title,children:"Login"}),Object(b.jsx)("div",{className:_.a.condition,children:" * To run the application - enter any E-MAIL and PASSWORD in the fields"}),Object(b.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(b.jsx)(H,Object(l.a)(Object(l.a)({type:"email",name:"email"},n.getFieldProps("email")),{},{placeholder:"Login"})),n.touched.email&&n.errors.email&&Object(b.jsx)("div",{style:{color:"red"},children:n.errors.email}),Object(b.jsx)(H,Object(l.a)(Object(l.a)({type:"password",name:"password"},n.getFieldProps("password")),{},{placeholder:"Password"})),n.touched.password&&n.errors.password&&Object(b.jsx)("div",{style:{color:"red"},children:n.errors.password}),Object(b.jsx)("div",{className:_.a.btn,children:Object(b.jsx)(h,{children:"Sign in"})})]})]})},exact:!0}],oe=function(){var e=Object(a.useContext)(O),t=e.isAuth;return e.isLoading?Object(b.jsx)(te,{}):t?Object(b.jsxs)(v.d,{children:[se.map((function(e){return Object(b.jsx)(v.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),"}",Object(b.jsx)(v.a,{to:"/posts"})]}):Object(b.jsxs)(v.d,{children:[ie.map((function(e){return Object(b.jsx)(v.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(b.jsx)(v.a,{to:"/login"})]})};var le=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(a.useEffect)((function(){localStorage.getItem("auth")&&r(!0),u(!1)}),[]),Object(b.jsx)(O.Provider,{value:{isAuth:n,setIsAuth:r,isLoading:l},children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(oe,{})]})})};s.a.render(Object(b.jsx)(le,{}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ad4c2a9c.chunk.js.map